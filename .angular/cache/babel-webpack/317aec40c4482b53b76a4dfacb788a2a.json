{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Resource } from 'src/app/shared/resource';\nlet ResourceComponent = class ResourceComponent {\n  constructor(toastrService, router, resourceService, route) {\n    this.toastrService = toastrService;\n    this.router = router;\n    this.resourceService = resourceService;\n    this.route = route;\n    this.resource = new Resource();\n  }\n\n  ngOnInit() {\n    //get resourceId from activated route\n    this.resourceId = this.route.snapshot.params['resourceId'];\n    this.resetform(); //console.log(\"Resource id is\"+this.resourceId)\n\n    this.resourceService.bindListResources();\n\n    if (this.resourceId != 0 || this.resourceId != null) {\n      //getResource\n      this.resourceService.getResource(this.resourceId).subscribe(data => {\n        console.log(data);\n        /*\r\n        var datePipe = new DatePipe(\"en-UK\");\r\n        let formatedDate: any = datePipe.transform(data.DateOfJoining, 'yyyy-MM-dd');\r\n        data.DateOfJoining = formatedDate;*/\n\n        this.resourceService.formData = Object.assign({}, data);\n      }, error => console.log(error));\n    }\n  }\n\n  onSubmit(form) {\n    console.log(form.value);\n    let addId = this.resourceService.formData.ResourceId;\n\n    if (addId == 0 || addId == null) {\n      //insert\n      this.insertRecord(form);\n    } else {\n      //update\n      console.log(\"update\");\n      this.updateRecord(form);\n    }\n  } //reset/clear all content from form  at initialization\n\n\n  resetform(form) {\n    if (form != null) {\n      form.resetForm();\n    }\n  } //insert\n\n\n  insertRecord(form) {\n    console.log(\"inserting a record...\");\n    this.resourceService.insertResource(form.value).subscribe(result => {\n      console.log(result);\n      this.resetform(form);\n      this.toastrService.success('resource has been inserted', 'Training App');\n    }); //window.alert(\"Resource record has been inserted\");\n\n    window.location.reload();\n  } //update\n\n\n  updateRecord(form) {\n    console.log(\"updating a record...\");\n    this.resourceService.updateResource(form.value).subscribe(result => {\n      console.log(result);\n      this.resetform(form);\n      this.toastrService.success(' Record has been updated', 'Training appv2021'); //this.resourceService.bindListPost();\n    }); //window.alert(\"Resource record has been updated\");\n\n    window.location.reload();\n  }\n\n};\nResourceComponent = __decorate([Component({\n  selector: 'app-resource',\n  templateUrl: './resource.component.html',\n  styleUrls: ['./resource.component.css']\n})], ResourceComponent);\nexport { ResourceComponent };","map":null,"metadata":{},"sourceType":"module"}