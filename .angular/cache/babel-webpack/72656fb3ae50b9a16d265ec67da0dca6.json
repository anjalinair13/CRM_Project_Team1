{"ast":null,"code":"import { User } from 'src/app/shared/user';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"ngx-toastr\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/shared/user.service\";\nexport let UserComponent = /*#__PURE__*/(() => {\n  class UserComponent {\n    constructor(toastrService, router, userService, route) {\n      this.toastrService = toastrService;\n      this.router = router;\n      this.userService = userService;\n      this.route = route;\n      this.user = new User();\n    }\n\n    ngOnInit() {\n      this.userService.bindListUsers();\n    }\n\n    onSubmit(form) {\n      console.log(form.value);\n      let addId = this.userService.formData.UserId;\n      console.log(\"addid\", addId); //this.userService.formData.UserId)\n\n      if (addId == 0 || addId == null) {\n        //insert\n\n        /*form.setValue({\r\n          UserId:0,\r\n          RoleId:4,\r\n          isActive:1,\r\n          UserName:form.value.UserName,\r\n          UserPassword:form.value.UserPassword,\r\n          UserContact:form.value.UserContact,\r\n          UserEmail:form.value.UserEmail,\r\n        })*/\n        console.log(form.value);\n        this.insertRecord(form);\n      } else {\n        //update\n        console.log(\"update\");\n        this.updateRecord(form);\n      }\n    } //reset/clear all content from form  at initialization\n\n\n    resetform(form) {\n      if (form != null) {\n        form.resetForm();\n      }\n    } //insert\n\n\n    insertRecord(form) {\n      console.log(\"inserting a record...\");\n      this.userService.insertUser(form.value).subscribe(result => {\n        console.log(result);\n        this.resetform(form);\n        this.toastrService.success('user has been inserted', 'Training');\n      }); //window.alert(\"Resource record has been inserted\");\n      //window.location.reload();\n    } //update\n\n\n    updateRecord(form) {\n      console.log(\"updating a record...\");\n      this.userService.updateUser(form.value).subscribe(result => {\n        console.log(result);\n        this.resetform(form);\n        this.toastrService.success(' User has been updated', 'Training appv2021'); //this.resourceService.bindListPost();\n      }); //window.alert(\"Resource record has been updated\");\n\n      window.location.reload();\n    }\n\n  }\n\n  UserComponent.ɵfac = function UserComponent_Factory(t) {\n    return new (t || UserComponent)(i0.ɵɵdirectiveInject(i1.ToastrService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.UserService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n  };\n\n  UserComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: UserComponent,\n    selectors: [[\"app-user\"]],\n    decls: 0,\n    vars: 0,\n    template: function UserComponent_Template(rf, ctx) {},\n    styles: [\"\"]\n  });\n  return UserComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}