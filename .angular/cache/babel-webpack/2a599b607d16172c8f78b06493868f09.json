{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet RenquiryComponent = class RenquiryComponent {\n  constructor(renquiryService, route, router, toastrService) {\n    this.renquiryService = renquiryService;\n    this.route = route;\n    this.router = router;\n    this.toastrService = toastrService;\n    this.renquiry = new Renquiry();\n  }\n\n  ngOnInit() {\n    this.REnquiryId = this.route.snapshot.params['REnquiryId'];\n    this.renquiryService.bindListREnquiry();\n\n    if (this.REnquiryId != 0 || this.REnquiryId != null) {\n      this.renquiryService.getREnquiry(this.REnquiryId).subscribe(data => {\n        console.log(data);\n        var datePipe = new DatePipe(\"en-UK\");\n        let formatedDate = datePipe.transform(data.EnquiryDate, 'yyyy-MM-dd');\n        data.EnquiryDate = formatedDate;\n        this.renquiryService.formData = Object.assign({}, data);\n      }, error => console.log(error));\n    }\n  }\n\n  onSubmit(form) {\n    console.log(form.value);\n    let addId = this.renquiryService.formData.ResourceEnquiryId; //insert\n\n    if (addId == 0 || addId == null) {\n      this.insertREnquiryRecord(form);\n    } else {\n      //update\n      console.log(\"Updating record...\");\n      this.updateREnquiryRecord(form);\n      this.toastrService.success('Resource Enquiry record has been updated', 'CRM');\n    }\n  } //clear all contents at initialization\n\n\n  resetForm(form) {\n    if (form != null) {\n      form.resetForm();\n    }\n  } //defining insert record\n\n\n  insertREnquiryRecord(form) {\n    console.log(\"Inserting a record...\");\n    this.renquiryService.insertREnquiry(form.value).subscribe(result => {\n      console.log(result);\n      this.resetForm(form);\n      this.toastrService.success(\"Course Enquiry record has been inserted\", \"CRM\");\n    });\n    window.location.reload();\n  } //defining update record\n\n\n  updateREnquiryRecord(form) {\n    this.renquiryService.updateREnquiry(form.value).subscribe(result => {\n      console.log(result);\n      this.resetForm(form);\n      this.toastrService.success(\"Resource Enquiry record has been updated\", \"CRM\");\n      this.renquiryService.bindListREnquiry();\n    });\n    window.location.reload();\n  }\n\n};\nRenquiryComponent = __decorate([Component({\n  selector: 'app-renquiry',\n  templateUrl: './renquiry.component.html',\n  styleUrls: ['./renquiry.component.css']\n})], RenquiryComponent);\nexport { RenquiryComponent };","map":null,"metadata":{},"sourceType":"module"}