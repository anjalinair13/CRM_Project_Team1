{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { DatePipe } from '@angular/common';\nimport { Component } from '@angular/core';\nimport { Cenquiry } from 'src/app/shared/cenquiry';\nlet CenquiryEditComponent = class CenquiryEditComponent {\n  constructor(cenquiryService, route, router, toastrService) {\n    this.cenquiryService = cenquiryService;\n    this.route = route;\n    this.router = router;\n    this.toastrService = toastrService;\n    this.cenquiry = new Cenquiry();\n  }\n\n  ngOnInit() {\n    this.cenquiryService.BindCmdQualification();\n    this.cenquiryService.bindListCEnquiry();\n    this.CEnquiryId = this.route.snapshot.params['CEnquiryId']; //this.resetForm();\n\n    if (this.CEnquiryId != 0 || this.CEnquiryId != null) {\n      this.cenquiryService.getCEnquiry(this.CEnquiryId).subscribe(data => {\n        console.log(data);\n        var datePipe = new DatePipe(\"en-UK\");\n        let formatedDate = datePipe.transform(data.EnquiryDate, 'yyyy-MM-dd');\n        data.EnquiryDate = formatedDate;\n        this.cenquiryService.formData = Object.assign({}, data);\n      }, error => console.log(error));\n    }\n  }\n\n  onSubmit(form) {\n    console.log(form.value); //update\n\n    console.log(\"Updating record...\");\n    this.updateCEnquiryRecord(form); //this.toastrService.success('Course Enquiry record has been updated', 'CRM');\n  } //clear all contents at initialization\n\n\n  resetForm(form) {\n    if (form != null) {\n      form.resetForm();\n    }\n  } //defining update record\n\n\n  updateCEnquiryRecord(form) {\n    this.cenquiryService.updateCEnquiry(form.value).subscribe(result => {\n      console.log(result);\n      this.resetForm(form);\n      this.toastrService.success(\"Course Enquiry record has been updated\", \"CRM\"); // this.toastrService.success(\"Course Enquiry record has been updated\",\"CRM\");\n\n      this.cenquiryService.bindListCEnquiry();\n    });\n    window.location.reload();\n  }\n\n};\nCenquiryEditComponent = __decorate([Component({\n  selector: 'app-cenquiry-edit',\n  templateUrl: './cenquiry-edit.component.html',\n  styleUrls: ['./cenquiry-edit.component.css']\n})], CenquiryEditComponent);\nexport { CenquiryEditComponent };","map":null,"metadata":{},"sourceType":"module"}