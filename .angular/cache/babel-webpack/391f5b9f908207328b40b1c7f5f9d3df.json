{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { User } from 'src/app/shared/user';\nlet UserComponent = class UserComponent {\n  constructor(toastrService, router, userService, route) {\n    this.toastrService = toastrService;\n    this.router = router;\n    this.userService = userService;\n    this.route = route;\n    this.user = new User();\n  }\n\n  ngOnInit() {\n    this.userService.bindListUsers();\n  }\n\n  onSubmit(form) {\n    console.log(form.value);\n    let addId = this.userService.formData.UserId;\n    console.log(\"addid\", addId); //this.userService.formData.UserId)\n\n    if (addId == 0 || addId == null) {\n      //insert\n      //form.setValue({roleId:4,isActive:\"true\"})\n      console.log(form.value);\n      this.insertRecord(form);\n    } else {\n      //update\n      console.log(\"update\");\n      this.updateRecord(form);\n    }\n  } //reset/clear all content from form  at initialization\n\n\n  resetform(form) {\n    if (form != null) {\n      form.resetForm();\n    }\n  } //insert\n\n\n  insertRecord(form) {\n    console.log(\"inserting a record...\");\n    this.userService.insertUser(form.value).subscribe(result => {\n      console.log(result);\n      this.resetform(form);\n      this.toastrService.success('user has been inserted', 'Training');\n    }); //window.alert(\"Resource record has been inserted\");\n    //window.location.reload();\n  } //update\n\n\n  updateRecord(form) {\n    console.log(\"updating a record...\");\n    this.userService.updateUser(form.value).subscribe(result => {\n      console.log(result);\n      this.resetform(form);\n      this.toastrService.success(' User has been updated', 'Training appv2021'); //this.resourceService.bindListPost();\n    }); //window.alert(\"Resource record has been updated\");\n\n    window.location.reload();\n  }\n\n};\nUserComponent = __decorate([Component({\n  selector: 'app-user',\n  templateUrl: './user.component.html',\n  styleUrls: ['./user.component.css']\n})], UserComponent);\nexport { UserComponent };","map":null,"metadata":{},"sourceType":"module"}